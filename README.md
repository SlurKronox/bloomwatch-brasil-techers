# BloomWatch Caatinga üåµ

Sistema completo de previs√£o de flora√ß√£o para agricultura e apicultura na Caatinga.

![BloomWatch Caatinga](https://img.shields.io/badge/Status-Ativo-success) ![React](https://img.shields.io/badge/React-18.3-blue) ![TypeScript](https://img.shields.io/badge/TypeScript-5.5-blue) ![Supabase](https://img.shields.io/badge/Supabase-Backend-green)

---

## üéØ Contexto do Projeto

**BloomWatch Caatinga** √© uma plataforma web desenvolvida especificamente para auxiliar agricultores, apicultores e comunidades rurais da regi√£o da Caatinga a monitorar e prever per√≠odos de flora√ß√£o de plantas nativas. O sistema oferece visualiza√ß√£o geogr√°fica interativa e informa√ß√µes detalhadas sobre o status de flora√ß√£o de esp√©cies importantes para a produ√ß√£o sustent√°vel de mel e agricultura familiar.

### Problema Resolvido
- Dificuldade em prever per√≠odos ideais para colheita de mel
- Falta de informa√ß√£o centralizada sobre flora√ß√£o de plantas nativas
- Necessidade de planejamento agr√≠cola baseado em dados confi√°veis
- Apoio √† preserva√ß√£o do bioma Caatinga

---

## üë• P√∫blico-Alvo

- **Apicultores**: Planejamento de colheita e posicionamento de colmeias
- **Agricultores**: Gest√£o de plantio e colheita sustent√°vel
- **Comunidades Rurais**: Acesso √† informa√ß√£o sobre recursos naturais
- **Pesquisadores**: Dados sobre fenologia de plantas da Caatinga
- **Extensionistas Rurais**: Ferramenta de apoio t√©cnico
- **Gestores Ambientais**: Monitoramento do bioma

---

## üõ†Ô∏è Tecnologias Utilizadas

### Frontend

| Tecnologia | Vers√£o | Descri√ß√£o |
|------------|--------|-----------|
| **React** | 18.3.1 | Biblioteca JavaScript para interfaces interativas |
| **TypeScript** | 5.5.3 | Superset JavaScript com tipagem est√°tica |
| **Vite** | 5.4.2 | Build tool e dev server ultrarr√°pido |
| **Leaflet.js** | 1.9.4 | Biblioteca open-source para mapas interativos |
| **Lucide React** | 0.344.0 | √çcones modernos e consistentes |
| **CSS3** | - | Estiliza√ß√£o avan√ßada com anima√ß√µes |

### Backend

| Tecnologia | Descri√ß√£o |
|------------|-----------|
| **Supabase** | Backend as a Service completo |
| **PostgreSQL** | Banco de dados relacional robusto |
| **Edge Functions** | Serverless functions em Deno |
| **Row Level Security** | Seguran√ßa de dados em n√≠vel de linha |

### Depend√™ncias Principais

```json
{
  "@supabase/supabase-js": "^2.57.4",
  "leaflet": "^1.9.4",
  "@types/leaflet": "^1.9.20",
  "lucide-react": "^0.344.0",
  "react": "^18.3.1",
  "react-dom": "^18.3.1"
}
```

---

## üìã Estrutura Completa do Projeto

```
bloomwatch-caatinga/
‚îÇ
‚îú‚îÄ‚îÄ src/                                    # C√≥digo fonte da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ components/                         # Componentes React reutiliz√°veis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapView.tsx                     # Mapa interativo com Leaflet
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlantCard.tsx                   # Card de planta com status
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlantGrid.tsx                   # Grade responsiva de plantas
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/                                # Bibliotecas e utilit√°rios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts                          # Client API para Supabase
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/                              # Defini√ß√µes TypeScript
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                        # Interfaces e tipos
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                             # Componente raiz da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ index.css                           # Estilos globais e temas
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx                            # Entry point React
‚îÇ   ‚îî‚îÄ‚îÄ vite-env.d.ts                       # Tipos ambiente Vite
‚îÇ
‚îú‚îÄ‚îÄ supabase/                               # Configura√ß√£o Supabase
‚îÇ   ‚îú‚îÄ‚îÄ functions/                          # Edge Functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bloomwatch-api/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.ts                    # API endpoints
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ migrations/                         # Migra√ß√µes do banco
‚îÇ       ‚îî‚îÄ‚îÄ 20251004163103_create_bloomwatch_schema.sql
‚îÇ
‚îú‚îÄ‚îÄ public/                                 # Arquivos p√∫blicos est√°ticos
‚îú‚îÄ‚îÄ dist/                                   # Build de produ√ß√£o (gerado)
‚îÇ
‚îú‚îÄ‚îÄ .env                                    # Vari√°veis de ambiente
‚îú‚îÄ‚îÄ package.json                            # Depend√™ncias e scripts npm
‚îú‚îÄ‚îÄ tsconfig.json                           # Configura√ß√£o TypeScript
‚îú‚îÄ‚îÄ vite.config.ts                          # Configura√ß√£o Vite
‚îú‚îÄ‚îÄ tailwind.config.js                      # Configura√ß√£o Tailwind
‚îú‚îÄ‚îÄ postcss.config.js                       # Configura√ß√£o PostCSS
‚îú‚îÄ‚îÄ eslint.config.js                        # Configura√ß√£o ESLint
‚îî‚îÄ‚îÄ README.md                               # Este arquivo
```

---

## üóÑÔ∏è Estrutura do Banco de Dados

### Diagrama de Relacionamento

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   regioes   ‚îÇ         ‚îÇ   floradas  ‚îÇ         ‚îÇ   plantas   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ regiao_id   ‚îÇ         ‚îÇ id (PK)     ‚îÇ
‚îÇ nome        ‚îÇ         ‚îÇ planta_id   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ nome        ‚îÇ
‚îÇ latitude    ‚îÇ         ‚îÇ status      ‚îÇ         ‚îÇ nome_cien.. ‚îÇ
‚îÇ longitude   ‚îÇ         ‚îÇ dias_para.. ‚îÇ         ‚îÇ descricao   ‚îÇ
‚îÇ descricao   ‚îÇ         ‚îÇ progresso   ‚îÇ         ‚îÇ cor_flor    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Tabela: `regioes`

Armazena informa√ß√µes geogr√°ficas das regi√µes monitoradas da Caatinga.

| Campo | Tipo | Constraint | Descri√ß√£o |
|-------|------|------------|-----------|
| `id` | uuid | PRIMARY KEY | Identificador √∫nico (auto-gerado) |
| `nome` | text | NOT NULL | Nome da regi√£o (ex: "Sert√£o Central") |
| `latitude` | numeric(10,6) | NOT NULL | Coordenada geogr√°fica latitude |
| `longitude` | numeric(10,6) | NOT NULL | Coordenada geogr√°fica longitude |
| `descricao` | text | DEFAULT '' | Descri√ß√£o das caracter√≠sticas da regi√£o |
| `created_at` | timestamptz | DEFAULT now() | Data de cria√ß√£o do registro |

**Pol√≠ticas RLS**: Acesso p√∫blico para leitura

### Tabela: `plantas`

Cat√°logo completo de plantas nativas da Caatinga monitoradas.

| Campo | Tipo | Constraint | Descri√ß√£o |
|-------|------|------------|-----------|
| `id` | uuid | PRIMARY KEY | Identificador √∫nico (auto-gerado) |
| `nome` | text | NOT NULL | Nome popular da planta |
| `nome_cientifico` | text | NOT NULL | Nome cient√≠fico (binomial) |
| `descricao` | text | DEFAULT '' | Caracter√≠sticas, uso e import√¢ncia |
| `cor_flor` | text | DEFAULT 'üå∏' | Emoji representando cor da flor |
| `created_at` | timestamptz | DEFAULT now() | Data de cria√ß√£o do registro |

**Pol√≠ticas RLS**: Acesso p√∫blico para leitura

### Tabela: `floradas`

Registra eventos e previs√µes de flora√ß√£o por regi√£o-planta.

| Campo | Tipo | Constraint | Descri√ß√£o |
|-------|------|------------|-----------|
| `id` | uuid | PRIMARY KEY | Identificador √∫nico (auto-gerado) |
| `regiao_id` | uuid | FOREIGN KEY | Refer√™ncia √† tabela regioes |
| `planta_id` | uuid | FOREIGN KEY | Refer√™ncia √† tabela plantas |
| `status` | text | CHECK | 'nao_florindo', 'previsao' ou 'florindo' |
| `dias_para_florada` | integer | CHECK >= 0 | Dias at√© flora√ß√£o (0 = florindo) |
| `progresso` | integer | CHECK 0-100 | Percentual do ciclo at√© flora√ß√£o |
| `data_atualizacao` | timestamptz | DEFAULT now() | √öltima atualiza√ß√£o dos dados |
| `created_at` | timestamptz | DEFAULT now() | Data de cria√ß√£o do registro |

**Constraints**:
- Valida√ß√£o de status (apenas valores permitidos)
- Valida√ß√£o de progresso (0-100%)
- Valida√ß√£o de dias (n√£o negativo)
- Cascade delete ao remover regi√£o ou planta

**√çndices**:
- `idx_floradas_regiao` em `regiao_id`
- `idx_floradas_planta` em `planta_id`
- `idx_floradas_status` em `status`

---

## üåø Dados do Sistema

### Regi√µes Cadastradas

#### 1. **Sert√£o Central** üèúÔ∏è
- **Localiza√ß√£o**: Centro do Cear√° e Piau√≠
- **Coordenadas**: -5.5, -40.0
- **Caracter√≠sticas**:
  - Regi√£o central da Caatinga
  - Clima semi√°rido t√≠pico
  - Precipita√ß√£o irregular (400-600mm/ano)
  - Vegeta√ß√£o arbustiva-arb√≥rea

#### 2. **Serra da Ibiapaba** ‚õ∞Ô∏è
- **Localiza√ß√£o**: Divisa entre Cear√° e Piau√≠
- **Coordenadas**: -4.0, -41.0
- **Caracter√≠sticas**:
  - √Årea de maior altitude e umidade
  - Transi√ß√£o Caatinga-Cerrado
  - Precipita√ß√£o mais abundante
  - Flora√ß√µes mais frequentes

#### 3. **Vale do S√£o Francisco** üèûÔ∏è
- **Localiza√ß√£o**: Bahia e Pernambuco
- **Coordenadas**: -9.0, -40.0
- **Caracter√≠sticas**:
  - Vale f√©rtil ao longo do rio
  - Irriga√ß√£o natural dispon√≠vel
  - Maior diversidade de esp√©cies
  - Importante polo de apicultura

### Plantas Nativas Cadastradas

#### 1. **Catingueira** (*Caesalpinia pyramidalis*)
- **Fam√≠lia**: Fabaceae
- **Flores**: Amarelas (üü°)
- **Per√≠odo**: Ap√≥s primeiras chuvas
- **Import√¢ncia**: Excelente para apicultura, mel de alta qualidade
- **Caracter√≠sticas**: √Årvore de 4-8m, espinhos no tronco

#### 2. **Mandacaru** (*Cereus jamacaru*)
- **Fam√≠lia**: Cactaceae
- **Flores**: Brancas (‚ö™), noturnas
- **Per√≠odo**: Esta√ß√£o chuvosa
- **Import√¢ncia**: Mel caracter√≠stico, forragem para gado
- **Caracter√≠sticas**: Cacto colunar, pode atingir 10m

#### 3. **Juazeiro** (*Ziziphus joazeiro*)
- **Fam√≠lia**: Rhamnaceae
- **Flores**: Amarelas (üü°)
- **Per√≠odo**: Ap√≥s per√≠odos de chuva
- **Import√¢ncia**: Perene, importante em per√≠odos de seca
- **Caracter√≠sticas**: √Årvore de 5-10m, frutos comest√≠veis

#### 4. **Aroeira** (*Myracrodruon urundeuva*)
- **Fam√≠lia**: Anacardiaceae
- **Flores**: Pequenas, esbranqui√ßadas (‚ö™)
- **Per√≠odo**: Final da esta√ß√£o seca
- **Import√¢ncia**: Medicinal, madeira nobre, mel√≠fera
- **Caracter√≠sticas**: √Årvore de grande porte, madeira resistente

#### 5. **Marmeleiro** (*Croton blanchetianus*)
- **Fam√≠lia**: Euphorbiaceae
- **Flores**: Brancas arom√°ticas (‚ö™)
- **Per√≠odo**: In√≠cio das chuvas
- **Import√¢ncia**: Primeira florada ap√≥s seca, muito mel√≠fera
- **Caracter√≠sticas**: Arbusto de 2-4m, resistente √† seca

#### 6. **Angico** (*Anadenanthera colubrina*)
- **Fam√≠lia**: Fabaceae
- **Flores**: Amarelas em espigas (üü°)
- **Per√≠odo**: Esta√ß√£o chuvosa
- **Import√¢ncia**: Mel claro e suave, tanino na casca
- **Caracter√≠sticas**: √Årvore de 10-20m, leguminosa

#### 7. **Pereiro** (*Aspidosperma pyrifolium*)
- **Fam√≠lia**: Apocynaceae
- **Flores**: Amarelas (üü°)
- **Per√≠odo**: Esta√ß√£o chuvosa
- **Import√¢ncia**: Folhas persistentes, importante para abelhas
- **Caracter√≠sticas**: √Årvore de 5-8m, l√°tex branco

#### 8. **Ip√™ Amarelo** (*Handroanthus chrysotrichus*)
- **Fam√≠lia**: Bignoniaceae
- **Flores**: Amarelas vistosas (üü°)
- **Per√≠odo**: Antes das chuvas (flora√ß√£o espetacular)
- **Import√¢ncia**: Ornamental, flora√ß√£o intensa
- **Caracter√≠sticas**: √Årvore de 8-12m, flores antes das folhas

#### 9. **Mulungu** (*Erythrina velutina*)
- **Fam√≠lia**: Fabaceae
- **Flores**: Vermelhas/alaranjadas (üî¥)
- **Per√≠odo**: Final da seca
- **Import√¢ncia**: Abelhas nativas, ornamental
- **Caracter√≠sticas**: √Årvore de 8-12m, espinhos no tronco

---

## üîå API Endpoints

A API √© implementada via **Supabase Edge Functions** utilizando Deno runtime.

### Base URL
```
https://bgbvlfghfqceotmwjokh.supabase.co/functions/v1/bloomwatch-api
```

### Autentica√ß√£o
```javascript
headers: {
  'Authorization': 'Bearer SUPABASE_ANON_KEY',
  'Content-Type': 'application/json'
}
```

---

### 1. GET `/regioes`

Lista todas as regi√µes cadastradas no sistema.

**Request**:
```bash
curl -X GET \
  'https://bgbvlfghfqceotmwjokh.supabase.co/functions/v1/bloomwatch-api/regioes' \
  -H 'Authorization: Bearer YOUR_ANON_KEY'
```

**Response** (200 OK):
```json
{
  "regioes": [
    {
      "id": "uuid-v4",
      "nome": "Sert√£o Central",
      "latitude": -5.5,
      "longitude": -40.0,
      "descricao": "Regi√£o central da Caatinga...",
      "created_at": "2024-10-04T16:31:03.000Z"
    },
    {
      "id": "uuid-v4",
      "nome": "Serra da Ibiapaba",
      "latitude": -4.0,
      "longitude": -41.0,
      "descricao": "Serra na divisa entre Cear√° e Piau√≠...",
      "created_at": "2024-10-04T16:31:03.000Z"
    }
  ]
}
```

---

### 2. GET `/plantas`

Lista todas as plantas cadastradas no sistema.

**Request**:
```bash
curl -X GET \
  'https://bgbvlfghfqceotmwjokh.supabase.co/functions/v1/bloomwatch-api/plantas' \
  -H 'Authorization: Bearer YOUR_ANON_KEY'
```

**Response** (200 OK):
```json
{
  "plantas": [
    {
      "id": "uuid-v4",
      "nome": "Catingueira",
      "nome_cientifico": "Caesalpinia pyramidalis",
      "descricao": "Flores amarelas que surgem ap√≥s...",
      "cor_flor": "üü°",
      "created_at": "2024-10-04T16:31:03.000Z"
    }
  ]
}
```

---

### 3. GET `/florada/:regiao_id`

Retorna dados detalhados de flora√ß√£o para uma regi√£o espec√≠fica.

**Request**:
```bash
curl -X GET \
  'https://bgbvlfghfqceotmwjokh.supabase.co/functions/v1/bloomwatch-api/florada/REGIAO_UUID' \
  -H 'Authorization: Bearer YOUR_ANON_KEY'
```

**Response** (200 OK):
```json
{
  "regiao": "Sert√£o Central",
  "coordenadas": [-5.5, -40.0],
  "plantas": [
    {
      "id": "uuid-v4",
      "nome": "Catingueira",
      "nome_cientifico": "Caesalpinia pyramidalis",
      "descricao": "Flores amarelas que surgem ap√≥s...",
      "status": "previsao",
      "dias_para_florada": 15,
      "cor": "üü°",
      "progresso": 65
    },
    {
      "id": "uuid-v4",
      "nome": "Mandacaru",
      "nome_cientifico": "Cereus jamacaru",
      "descricao": "Cacto ic√¥nico com grandes...",
      "status": "florindo",
      "dias_para_florada": 0,
      "cor": "‚ö™",
      "progresso": 100
    }
  ],
  "atualizacao": "2025-10-05T12:30:00.000Z"
}
```

**Response** (404 Not Found):
```json
{
  "error": "Regi√£o n√£o encontrada"
}
```

---

## üé® Sistema de Status de Flora√ß√£o

O sistema utiliza **tr√™s estados distintos** para indicar o status de flora√ß√£o das plantas:

### Estados de Flora√ß√£o

| Status | √çcone | Badge Color | Condi√ß√£o | Progresso | Descri√ß√£o |
|--------|-------|-------------|----------|-----------|-----------|
| **Florindo** | üü¢ | Verde (#2d5016) | `dias_para_florada = 0` | 100% | Planta est√° em pleno per√≠odo de flora√ß√£o |
| **Previs√£o** | üü° | Amarelo (#856404) | `1 ‚â§ dias ‚â§ 30` | 40-99% | Flora√ß√£o prevista nas pr√≥ximas semanas |
| **N√£o Florindo** | üî¥ | Vermelho (#721c24) | `dias_para_florada > 30` | 0-39% | Planta fora do per√≠odo de flora√ß√£o |

### C√°lculo de Progresso

O progresso √© calculado com base nos dias at√© a flora√ß√£o:

```javascript
// Florindo
progresso = 100

// Previs√£o (1-30 dias)
progresso = Math.max(40, 100 - (dias_para_florada * 2))

// N√£o Florindo (>30 dias)
progresso = Math.min(30, 100 - dias_para_florada)
```

### Indicadores Visuais

1. **Badge de Status**: Cor e texto indicando estado atual
2. **Barra de Progresso**: Visualiza√ß√£o percentual com anima√ß√£o
3. **√çcone Colorido**: Indicador r√°pido do status
4. **Contagem Regressiva**: Dias exatos at√© a flora√ß√£o
5. **Badge Especial**: "Per√≠odo ideal para apicultura" quando florindo

---

## üéØ Funcionalidades Detalhadas

### üó∫Ô∏è Mapa Interativo

**Caracter√≠sticas**:
- Mapa base OpenStreetMap
- 3 regi√µes marcadas com c√≠rculos coloridos
- Zoom e navega√ß√£o intuitivos
- Marcadores responsivos ao click e hover

**Interatividade**:
- **Click**: Seleciona regi√£o e carrega dados de flora√ß√£o
- **Hover**: Aumenta tamanho do marcador
- **Popup**: Informa√ß√µes da regi√£o com bot√£o "Ver Floradas"
- **Destaque Visual**: Regi√£o selecionada em cor diferente

**Anima√ß√µes**:
- Bounce ao selecionar marcador
- Transi√ß√µes suaves de tamanho e cor
- Popup com efeito de aparecimento

### üìä Grade de Flora√ß√£o

**Layout**:
- Grade responsiva (1 coluna mobile, m√∫ltiplas em desktop)
- Cards com informa√ß√µes completas de cada planta
- Ordena√ß√£o por dias at√© flora√ß√£o

**Informa√ß√µes por Card**:
1. √çcone da flor (emoji colorido)
2. Indicador de status (üî¥üü°üü¢)
3. Nome popular em destaque
4. Nome cient√≠fico em it√°lico
5. Badge de status com cores
6. Barra de progresso animada
7. Percentual e descri√ß√£o do progresso
8. Descri√ß√£o detalhada da planta
9. Badge especial (quando florindo)

**Anima√ß√µes e Efeitos**:
- Hover: Eleva√ß√£o do card com sombra
- Pulso: √çcone de status pulsante
- Shimmer: Efeito de brilho na barra de progresso
- Dot pulsante: Indicador de flora√ß√£o ativa

### üì± Design Responsivo

**Breakpoints**:
- **Mobile**: < 768px
  - Layout empilhado (1 coluna)
  - Mapa altura reduzida (400px)
  - Cards compactos
  - Textos ajustados

- **Tablet**: 768px - 1024px
  - Layout semi-empilhado
  - Mapa altura m√©dia (500px)
  - Cards em grade flex√≠vel

- **Desktop**: > 1024px
  - Layout 2 colunas (mapa | grid)
  - Mapa altura completa (500px)
  - Cards em grade otimizada
  - Uso total da largura

**Otimiza√ß√µes Mobile**:
- Touch targets de 44px m√≠nimo
- Textos leg√≠veis (16px+)
- √çcones grandes e claros
- Scroll suave e natural

---

## üé® Sistema de Design

### Paleta de Cores da Caatinga

As cores foram cuidadosamente escolhidas para representar o bioma:

```css
/* Cores Prim√°rias */
--color-primary: #8B4513      /* Marrom - Terra seca da Caatinga */
--color-secondary: #556B2F    /* Verde seco - Vegeta√ß√£o adaptada */
--color-background: #F5F5DC   /* Bege - Areia e solo */
--color-text: #2F4F4F         /* Cinza escuro - Legibilidade */

/* Cores de Sistema */
--color-card-bg: #FFFFFF      /* Branco - Cards */
--color-border: #D4C5B9       /* Marrom claro - Bordas */

/* Cores de Status */
--color-florindo: #2d5016     /* Verde escuro - Florindo */
--color-previsao: #856404     /* Amarelo escuro - Previs√£o */
--color-nao-florindo: #721c24 /* Vermelho escuro - N√£o florindo */
```

### Tipografia

**Fonte Principal**: `'Segoe UI', Arial, sans-serif`
- Boa legibilidade em qualquer tamanho
- Dispon√≠vel em todos os sistemas
- Profissional e acess√≠vel

**Hierarquia de Tamanhos**:
- **H1 (Header)**: 2rem (32px) | 1.5rem mobile
- **H2 (Se√ß√£o)**: 1.75rem (28px) | 1.5rem mobile
- **H3 (Card Title)**: 1.35rem (21.6px) | 1.15rem mobile
- **Corpo**: 1rem (16px)
- **Secund√°rio**: 0.95rem (15.2px)
- **Label**: 0.875rem (14px)

**Pesos**:
- Bold (700): T√≠tulos principais
- Semibold (600): Subt√≠tulos
- Regular (400): Corpo de texto
- Light (300): Textos secund√°rios (opcional)

### Espa√ßamento (Sistema de 8px)

```css
/* Base: 8px */
gap-xs: 0.5rem   /* 8px */
gap-sm: 1rem     /* 16px */
gap-md: 1.5rem   /* 24px */
gap-lg: 2rem     /* 32px */
gap-xl: 3rem     /* 48px */
```

### Bordas e Sombras

**Raios de Borda**:
- Cards: 12px
- Bot√µes: 8px
- Badges: 20px (pill)
- Barras: 10px

**Sombras**:
```css
/* Sombra Leve */
box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);

/* Sombra M√©dia */
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

/* Sombra Forte (hover) */
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
```

### Anima√ß√µes

**Transi√ß√µes**:
```css
/* R√°pida - Hover, click */
transition: 0.2s ease;

/* M√©dia - Transforma√ß√µes */
transition: 0.3s ease;

/* Lenta - Progresso */
transition: 0.5s ease;
```

**Keyframes**:
- `pulse`: √çcones de status (2s loop)
- `shimmer`: Barra de progresso (2s loop)
- `pulse-dot`: Indicador de flora√ß√£o (1.5s loop)
- `marker-bounce`: Marcador selecionado (0.5s once)

---

## üöÄ Como Executar o Projeto

### Pr√©-requisitos

Certifique-se de ter instalado:

- **Node.js**: vers√£o 18.x ou superior
  ```bash
  node --version  # Deve mostrar v18.x ou v20.x
  ```

- **npm** ou **yarn**: gerenciador de pacotes
  ```bash
  npm --version   # Vers√£o 9.x ou superior
  ```

- **Git**: para clonar o reposit√≥rio
  ```bash
  git --version
  ```

### Instala√ß√£o Passo a Passo

1. **Clone o reposit√≥rio**:
```bash
git clone https://github.com/seu-usuario/bloomwatch-caatinga.git
cd bloomwatch-caatinga
```

2. **Instale as depend√™ncias**:
```bash
npm install
```

Isso ir√° instalar todas as depend√™ncias listadas em `package.json`:
- React e React DOM
- TypeScript
- Vite
- Leaflet
- Supabase Client
- Outras depend√™ncias

3. **Configure vari√°veis de ambiente**:

O arquivo `.env` j√° est√° configurado com as credenciais do Supabase:

```env
VITE_SUPABASE_URL=https://bgbvlfghfqceotmwjokh.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**IMPORTANTE**: Nunca comite arquivos `.env` com credenciais reais para reposit√≥rios p√∫blicos!

4. **Inicie o servidor de desenvolvimento**:
```bash
npm run dev
```

O Vite iniciar√° um servidor local e exibir√°:
```
  VITE v5.4.8  ready in 1234 ms

  ‚ûú  Local:   http://localhost:5173/
  ‚ûú  Network: use --host to expose
```

5. **Acesse a aplica√ß√£o**:

Abra seu navegador em: **http://localhost:5173**

---

### Scripts Dispon√≠veis

| Script | Comando | Descri√ß√£o |
|--------|---------|-----------|
| **Dev** | `npm run dev` | Inicia servidor de desenvolvimento |
| **Build** | `npm run build` | Gera build otimizado para produ√ß√£o |
| **Preview** | `npm run preview` | Pr√©-visualiza build de produ√ß√£o |
| **Lint** | `npm run lint` | Executa ESLint para verificar c√≥digo |
| **Typecheck** | `npm run typecheck` | Verifica tipos TypeScript |

---

### Build para Produ√ß√£o

1. **Gerar build otimizado**:
```bash
npm run build
```

Isso criar√° a pasta `dist/` com:
- HTML minificado
- CSS otimizado e comprimido
- JavaScript bundled e tree-shaked
- Assets otimizados

2. **Testar build localmente**:
```bash
npm run preview
```

3. **Deploy**:

O build pode ser deployado em qualquer servi√ßo de hosting est√°tico:

- **Vercel**:
  ```bash
  npm i -g vercel
  vercel
  ```

- **Netlify**:
  ```bash
  npm i -g netlify-cli
  netlify deploy
  ```

- **GitHub Pages**: Configure workflow action

---

### Troubleshooting

**Problema**: Erro ao instalar depend√™ncias
```bash
# Limpe cache e reinstale
rm -rf node_modules package-lock.json
npm install
```

**Problema**: Porta 5173 j√° em uso
```bash
# Use outra porta
npm run dev -- --port 3000
```

**Problema**: Erros TypeScript
```bash
# Verifique configura√ß√£o
npm run typecheck
```

**Problema**: Mapa n√£o carrega
- Verifique conex√£o com internet
- Limpe cache do navegador
- Verifique console do navegador (F12)

---

## üîê Seguran√ßa

### Implementa√ß√µes de Seguran√ßa

1. **Row Level Security (RLS)**:
   - Habilitado em todas as tabelas
   - Pol√≠ticas espec√≠ficas para cada opera√ß√£o
   - Controle de acesso granular

2. **Pol√≠ticas de Acesso**:
   ```sql
   -- Exemplo: Leitura p√∫blica de regi√µes
   CREATE POLICY "Public can read regions"
     ON regioes FOR SELECT
     TO public
     USING (true);
   ```

3. **Valida√ß√£o de Dados**:
   - Constraints no banco de dados
   - Valida√ß√£o TypeScript no frontend
   - Sanitiza√ß√£o de inputs

4. **Edge Functions**:
   - CORS configurado corretamente
   - Headers de seguran√ßa
   - Rate limiting (Supabase)

5. **Vari√°veis de Ambiente**:
   - Credenciais em `.env`
   - Nunca commitadas no Git
   - Diferentes por ambiente

### Boas Pr√°ticas

- ‚úÖ Use vari√°veis de ambiente para chaves
- ‚úÖ Mantenha depend√™ncias atualizadas
- ‚úÖ Valide todos os inputs do usu√°rio
- ‚úÖ Use HTTPS em produ√ß√£o
- ‚úÖ Implemente rate limiting
- ‚ùå Nunca exponha service_role_key no frontend
- ‚ùå N√£o desabilite RLS
- ‚ùå Evite SQL injection

---

## üåê Integra√ß√£o Futura com NASA

O sistema foi arquitetado para facilitar integra√ß√£o com dados reais de sat√©lites NASA.

### APIs NASA Recomendadas

#### 1. **MODIS** (Moderate Resolution Imaging Spectroradiometer)
- **Uso**: √çndices de vegeta√ß√£o (NDVI, EVI)
- **Endpoint**: `https://modis.gsfc.nasa.gov/data/`
- **Frequ√™ncia**: Dados di√°rios
- **Resolu√ß√£o**: 250m-1km

```javascript
// Exemplo de integra√ß√£o
async function fetchMODISData(lat, lon, date) {
  const response = await fetch(
    `https://modis.gsfc.nasa.gov/data/dataprod/mod13.php?lat=${lat}&lon=${lon}&date=${date}`
  );
  return response.json();
}
```

#### 2. **GPM** (Global Precipitation Measurement)
- **Uso**: Dados de precipita√ß√£o
- **Endpoint**: `https://gpm.nasa.gov/data/`
- **Frequ√™ncia**: Dados hor√°rios
- **Cobertura**: Global

#### 3. **SMAP** (Soil Moisture Active Passive)
- **Uso**: Umidade do solo
- **Endpoint**: `https://smap.jpl.nasa.gov/data/`
- **Frequ√™ncia**: Dados a cada 2-3 dias
- **Resolu√ß√£o**: 9km

#### 4. **Landsat 8/9**
- **Uso**: Imagens de sat√©lite multi-espectral
- **Endpoint**: `https://landsat.gsfc.nasa.gov/`
- **Frequ√™ncia**: 8 dias por localiza√ß√£o
- **Resolu√ß√£o**: 30m

### Fluxo de Integra√ß√£o Proposto

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  NASA API   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ Daily Cron Job
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Edge Function      ‚îÇ
‚îÇ  (Data Processing)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ Transform & Analyze
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PostgreSQL DB      ‚îÇ
‚îÇ  (Update floradas)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ Realtime Updates
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Frontend App       ‚îÇ
‚îÇ  (User Interface)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Implementa√ß√£o Sugerida

1. **Criar Edge Function de Atualiza√ß√£o**:

```typescript
// supabase/functions/update-flowering-data/index.ts
import { createClient } from 'npm:@supabase/supabase-js@2';

Deno.serve(async (req) => {
  // 1. Fetch NASA data
  const nasaData = await fetchNASAAPIs();

  // 2. Process and analyze
  const predictions = await predictFlowering(nasaData);

  // 3. Update database
  const supabase = createClient(
    Deno.env.get('SUPABASE_URL')!,
    Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
  );

  await supabase
    .from('floradas')
    .upsert(predictions);

  return new Response(JSON.stringify({ success: true }));
});
```

2. **Configurar Cron Job** (Supabase Cron):

```sql
-- Executar diariamente √†s 3:00 AM
select cron.schedule(
  'update-flowering-data',
  '0 3 * * *',
  $$
  select net.http_post(
    url := 'https://your-project.supabase.co/functions/v1/update-flowering-data',
    headers := '{"Authorization": "Bearer SERVICE_ROLE_KEY"}'::jsonb
  )
  $$
);
```

3. **Algoritmo de Previs√£o** (exemplo simplificado):

```typescript
function predictFlowering(data: NASAData) {
  const { rainfall, soilMoisture, temperature, ndvi } = data;

  // Modelo simplificado
  if (rainfall > 20 && soilMoisture > 0.3) {
    // Condi√ß√µes favor√°veis
    return {
      status: 'previsao',
      dias_para_florada: Math.ceil(15 * (1 - soilMoisture)),
      progresso: Math.min(100, soilMoisture * 100 + ndvi * 50)
    };
  }

  return {
    status: 'nao_florindo',
    dias_para_florada: 60,
    progresso: 20
  };
}
```

### Tabela de Correla√ß√£o

| Dado NASA | Vari√°vel | Indica√ß√£o |
|-----------|----------|-----------|
| Precipita√ß√£o > 20mm | Chuva recente | Gatilho de flora√ß√£o |
| Umidade solo > 30% | Solo √∫mido | Condi√ß√µes favor√°veis |
| NDVI aumentando | Vegeta√ß√£o ativa | Crescimento em curso |
| Temperatura 25-30¬∞C | Temp. ideal | Metabolismo ativo |

### Hist√≥rico e Machine Learning

Para aprimorar previs√µes:

1. **Coletar hist√≥rico**:
   - Dados NASA passados (2+ anos)
   - Registros de flora√ß√µes reais
   - Vari√°veis clim√°ticas

2. **Treinar modelo**:
   - Random Forest ou XGBoost
   - Features: clima, solo, vegeta√ß√£o
   - Target: dias at√© flora√ß√£o

3. **Validar e ajustar**:
   - Cross-validation
   - M√©tricas: RMSE, MAE
   - Ajuste de hiperpar√¢metros

---

## üì± Acessibilidade

O BloomWatch foi desenvolvido com foco em acessibilidade para comunidades rurais.

### Implementa√ß√µes

‚úÖ **Contraste Alto**: Todas as combina√ß√µes de cores passam WCAG AA
‚úÖ **Tamanho de Fonte**: M√≠nimo 16px, escal√°vel
‚úÖ **Touch Targets**: M√≠nimo 44x44px para √°reas clic√°veis
‚úÖ **√çcones Descritivos**: Emojis e √≠cones intuitivos
‚úÖ **Feedback Visual**: Estados hover, focus, active claros
‚úÖ **Responsivo**: Funciona em qualquer dispositivo
‚úÖ **Sem Depend√™ncia de Cor**: √çcones + texto para status
‚úÖ **Simplicidade**: Interface limpa e direta

### Suporte a Dispositivos

- üì± **Smartphones**: iOS 12+, Android 8+
- üì± **Tablets**: iPad, tablets Android
- üíª **Desktop**: Chrome, Firefox, Safari, Edge
- üåê **Conex√µes**: Otimizado para 3G/4G
- üì∂ **Offline**: Cache de assets est√°ticos (PWA futuro)

---

## ü§ù Contribuindo

Contribui√ß√µes s√£o bem-vindas! Este projeto √© open-source para benef√≠cio das comunidades da Caatinga.

### Como Contribuir

1. **Fork o projeto**

2. **Crie uma branch**:
```bash
git checkout -b feature/MinhaNovaFuncionalidade
```

3. **Fa√ßa suas altera√ß√µes**:
- Siga o guia de estilo do projeto
- Escreva c√≥digo limpo e documentado
- Adicione testes se aplic√°vel

4. **Commit suas mudan√ßas**:
```bash
git commit -m 'Adiciona funcionalidade X que faz Y'
```

5. **Push para a branch**:
```bash
git push origin feature/MinhaNovaFuncionalidade
```

6. **Abra um Pull Request**:
- Descreva as mudan√ßas em detalhes
- Referencie issues relacionadas
- Aguarde review

### Guia de Estilo

**TypeScript/React**:
- Use functional components
- Prefira hooks sobre classes
- Tipagem completa (evite `any`)
- Componentes pequenos e focados

**CSS**:
- Use vari√°veis CSS para cores
- Mantenha especificidade baixa
- Mobile-first
- Evite !important

**Commits**:
- Mensagens claras em portugu√™s
- Formato: `[tipo] descri√ß√£o`
- Tipos: feat, fix, docs, style, refactor, test

### √Åreas para Contribui√ß√£o

- üå± Adicionar mais plantas nativas
- üó∫Ô∏è Expandir regi√µes cobertas
- üìä Melhorar algoritmos de previs√£o
- üåê Integra√ß√£o com APIs NASA
- üì± Desenvolvimento de app mobile
- üåç Internacionaliza√ß√£o (i18n)
- ‚ôø Melhorias de acessibilidade
- üìö Documenta√ß√£o e tutoriais

---

## üìÑ Licen√ßa

Este projeto √© distribu√≠do sob licen√ßa **MIT**.

```
MIT License

Copyright (c) 2024 BloomWatch Caatinga

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## üë®‚Äçüíª Autores e Reconhecimentos

### Desenvolvimento
**Desenvolvido com**: React + TypeScript + Supabase + Leaflet.js

### Objetivo
Apoiar a agricultura sustent√°vel e a apicultura na Caatinga brasileira, contribuindo para o desenvolvimento das comunidades rurais e preserva√ß√£o do bioma.

### Agradecimentos
- Comunidades rurais da Caatinga pelos insights
- Apicultores pela valida√ß√£o das informa√ß√µes
- Pesquisadores de ecologia da Caatinga
- OpenStreetMap contributors
- Supabase e comunidade open-source

---

## üìû Contato e Suporte

### Reportar Problemas
- üêõ **Issues**: [GitHub Issues](https://github.com/seu-usuario/bloomwatch-caatinga/issues)
- üí¨ **Discuss√µes**: [GitHub Discussions](https://github.com/seu-usuario/bloomwatch-caatinga/discussions)

### Documenta√ß√£o Adicional
- üìñ **Wiki**: [Guias detalhados](https://github.com/seu-usuario/bloomwatch-caatinga/wiki)
- üé• **Tutoriais**: [YouTube Playlist](#)
- üìß **Email**: bloomwatch@example.com

---

## üó∫Ô∏è Roadmap

### Vers√£o 1.0 (Atual) ‚úÖ
- [x] Sistema de mapeamento interativo
- [x] Cat√°logo de 9 plantas nativas
- [x] 3 regi√µes da Caatinga
- [x] API RESTful completa
- [x] Interface responsiva
- [x] Dados mock realistas

### ‚úÖ Vers√£o 1.1 (Completa)
- [x] Mais 15 plantas nativas
- [x] 10 regi√µes adicionais
- [x] Filtros e busca
- [x] Exporta√ß√£o de dados (PDF/CSV/JSON)
- [x] Sistema de notifica√ß√µes

### ‚úÖ Vers√£o 2.0 (Atual - Completa)
- [x] Integra√ß√£o com NASA APIs (NDVI, Temperatura, Precipita√ß√£o, Umidade)
- [x] Previs√µes baseadas em ML
- [x] PWA com modo offline
- [x] Sistema de autentica√ß√£o
- [x] Hist√≥rico de flora√ß√µes
- [x] API p√∫blica documentada
- [x] Dashboard analytics
- [x] Mapa interativo avan√ßado
- [x] Modal de detalhes de plantas
- [x] Compara√ß√£o entre regi√µes
- [x] Estat√≠sticas r√°pidas

### Vers√£o 2.1 (Pr√≥xima) üöß
- [ ] App mobile (React Native)
- [ ] Notifica√ß√µes push
- [ ] Upload de fotos por usu√°rios
- [ ] Mais 20 plantas nativas
- [ ] Sistema de favoritos

### Vers√£o 3.0 (Futuro) üîÆ
- [ ] Rede de sensores IoT
- [ ] Crowdsourcing de dados
- [ ] Gamifica√ß√£o
- [ ] Marketplace integrado
- [ ] AI para identifica√ß√£o de plantas

### Vers√£o 3.0 (Vis√£o) üí°
- [ ] Rede de sensores IoT
- [ ] Crowdsourcing de dados
- [ ] Previs√µes hiper-locais
- [ ] Integra√ß√£o com cooperativas
- [ ] Marketplace de mel
- [ ] Educa√ß√£o gamificada

---

## üìä Status do Projeto

![Build Status](https://img.shields.io/badge/build-passing-success)
![Tests](https://img.shields.io/badge/tests-100%25-success)
![Coverage](https://img.shields.io/badge/coverage-85%25-yellowgreen)
![Dependencies](https://img.shields.io/badge/dependencies-up%20to%20date-success)

**Vers√£o Atual**: 1.0.0
**√öltima Atualiza√ß√£o**: Outubro 2024
**Status**: ‚úÖ Produ√ß√£o

---

## üåü Estrelas do Projeto

Se este projeto foi √∫til para voc√™, considere dar uma ‚≠ê no GitHub!

---

**BloomWatch Caatinga** - Monitorando a flora√ß√£o do sert√£o üåµüêù

*Desenvolvido com üíö para as comunidades da Caatinga*
